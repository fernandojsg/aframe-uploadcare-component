!function(e){function o(a){if(t[a])return t[a].exports;var r=t[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}var t={};return o.m=e,o.c=t,o.p="",o(0)}([function(e,o){function t(e){var o=document.createElement("script");o.src=e,o.charset="utf-8",o.setAttribute("data-aframe-injected","uploadcare-component"),document.head.appendChild(o)}if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerSystem("uploadcare",{schema:{publicKey:{default:""},debug:{default:!1}},multiple:!1,init:function(){window.UPLOADCARE_PUBLIC_KEY=this.data.publicKey,t("https://ucarecdn.com/libs/widget/2.x/uploadcare.full.min.js")},upload:function(e,o){switch(o){case"application/json":e=[JSON.stringify(e)];break;default:o="application/octet-library"}var t=e instanceof Blob?e:new Blob(e,{type:o}),a=uploadcare.fileFrom("object",t),r=this.sceneEl,n=this;r.emit("uploadcare-upload-started"),a.done(function(e){n.data.debug&&console.info("Uploaded link:",e),r.emit("uploadcare-upload-completed",{url:e.cdnUrl,fileInfo:e})}).fail(function(e,o){n.data.debug&&console.error("Uploaded fail:",e,o),r.emit("uploadcare-upload-error",{errorInfo:e,fileInfo:o})}).progress(function(e){n.data.debug&&console.info("Upload progress:",e),r.emit("uploadcare-upload-progress",{progress:e.progress,uploadInfo:e})})},download:function(e,o,t){var a="https://ucarecdn.com/",r=new THREE.XHRLoader;r.crossOrigin="anonymous",t===!0&&r.setResponseType("arraybuffer");var n=this.sceneEl,i=e.indexOf("http")!==-1?e:a+e;r.load(i,function(e){var a=t===!0?{content:e,isBinary:!0}:{content:JSON.parse(e),isBinary:!1};o&&o(a),n.emit("uploadcare-download-completed",a)})}})}]);